
# iSunOne Wealth Bot — ruleset (edit without touching code)
meta:
  version: 2
  note: >
    Single source of truth for iSunOne Wealth Bot v4p. Contains poetic state text,
    Mood-of-the-Day templates, trend thresholds, Heat Score (The Score) weights/maps,
    and advanced regime classifier parameters (hysteresis, overrides, and sideways detector).

# 🌸 Poetic action text per regime (used in Telegram brief)
state_text:
  S1: "S1 — 🌱 Accumulate quietly. The roots grow in silence."
  S2: "S2 — ☕ Hold your ground, serenity surrounds."
  S3: "S3 — 🍃 Time to let go. Distribute gracefully."
  S4: "S4 — 🌾 Reap the passive harvest. Yield flows gently."
  S5: "S5 — 🌊 Embrace the dip. Buy with faith, not fear."

# 🎭 Mood of the Day configuration
mood:
  selection: "based_on_volatility_and_fng"
  templates:
    - "😌 Tranquil Tuesday"
    - "🌀 Stormwatch Saturday"
    - "🧲 Gravity Shift Detected"
    - "🌈 Hopeful Horizon"
    - "🌪️ Sentiment Swirl"
    - "🌤️ Calm Before the Surge"
    - "🔥 Feverish Friday"

# 📈 Trend config
trend:
  slope_eps: 0.0005  # for slope arrow ~ near-flat threshold

# 🔥 Heat Score (The Score)
score:
  s3_trigger_score: 80  # legacy; advanced classifier uses regime.hysteresis
  weights:
    fg_now: 0.25
    over_200d_pct: 0.20
    funding_z: 0.20
    ahr999: 0.20
    vol_30d_pct: 0.10
    breadth_200d: 0.05
  maps:
    over_200d_pct:
      min: -20
      mid: 0
      hi: 50
    funding_z:
      neg: -2.0
      neu: 0.0
      pos: 2.0
    ahr999:
      low: 0.60
      base: 1.00
      warn: 1.20
      hot: 1.35

# 🧭 Advanced regime classifier
regime:
  hysteresis:
    s3_up: 80      # enter S3 on >= 80
    s3_down: 70    # exit S3 when < 70
    confirm_days: 2
    confirm_days_s4: 3

  bands:
    near_200_band_pct: 5
    deep_discount_pct: -20
    rich_pct: 50
    s4_max_vol_30d: 40
    flat_slope_eps: 0.0003

  overrides:
    s3_need_count: 2
    s5_need_count: 2
    s3:
      ahr_hot: 1.35
      funding_z_hot: 2.0
      fng_hot: 85
      over_200d_rich: 50
      pi_top_cross: true
    s5:
      ahr_cold: 0.60
      fng_cold: 25
      dd60_cold: -35
